<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async
          src="https://cdn.jsdelivr.net/npm/mathjax@3.0.0/es5/tex-mml-chtml.js">
    </script>-->
    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
    </script>
    <script
  type="text/javascript"
  charset="utf-8"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    <script
  type="text/javascript"
  charset="utf-8"
  src="https://vincenttam.github.io/javascripts/MathJaxLocal.js">
    </script>

<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Mathematics of Diamond Pricing | Gustavo’s site</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Mathematics of Diamond Pricing" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A compilation of my personal projects" />
<meta property="og:description" content="A compilation of my personal projects" />
<link rel="canonical" href="http://localhost:4000/diamondmatching.html" />
<meta property="og:url" content="http://localhost:4000/diamondmatching.html" />
<meta property="og:site_name" content="Gustavo’s site" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Mathematics of Diamond Pricing" />
<script type="application/ld+json">
{"@type":"WebPage","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/img/img_4029.jpg"}},"url":"http://localhost:4000/diamondmatching.html","description":"A compilation of my personal projects","headline":"Mathematics of Diamond Pricing","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=e02b501a330d4d0ad719a667dd4a88c8fdd681af">
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->

  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1><a href="http://localhost:4000/">Gustavo's site</a></h1>

        
          <img src="/assets/img/img_4029.jpg" alt="Logo" />
        

        <p>A compilation of my personal projects</p>

        
        <p class="view"><a href="https://github.com/aramisentreri/aramisentreri.github.io">View the Project on GitHub <small>aramisentreri/aramisentreri.github.io</small></a></p>
        

        
          
                    <!-- Begin Mailchimp Signup Form -->
          <link href="//cdn-images.mailchimp.com/embedcode/classic-10_7_dtp.css" rel="stylesheet" type="text/css">
          <style type="text/css">
            #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif;  width:250px;}
            #mc_embed_signup .button {clear:both; background-color: rgb(255, 255, 255); border: 0 none; border-radius:4px; 
              transition: all 0.23s ease-in-out 0s; color: #267CB9; cursor: pointer; display: inline-block; 
              font-size:15px; font-weight: normal; height: 32px; line-height: 32px; margin: 0 5px 10px 0; padding: 0 22px; 
              text-align: center; text-decoration: none; vertical-align: top; white-space: nowrap; width: fit-content; width: -moz-fit-content;}
            /* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
              We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
          </style>
          <div id="mc_embed_signup">
          <form action="https://bazaarofdragons.us19.list-manage.com/subscribe/post?u=92959eee672c3f582256b035f&amp;id=6d43377d61" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
              <div id="mc_embed_signup_scroll">
            <p>Subscribe to know when a new blog post is up:</p>
            <p>(I'll never sell your information)</p>
          <div class="mc-field-group">
            <input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL">
          </div>
          <div hidden="true"><input type="hidden" name="tags" value="4992429"></div>
            <div id="mce-responses" class="clear foot">
              <div class="response" id="mce-error-response" style="display:none"></div>
              <div class="response" id="mce-success-response" style="display:none"></div>
            </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
              <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_92959eee672c3f582256b035f_6d43377d61" tabindex="-1" value=""></div>
                  <div class="optionalParent">
                      <div class="clear foot">
                          <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button">
                          <p class="brandingLogo"><a href="http://eepurl.com/g2ss0j" title="Mailchimp - email marketing made easy and fun"><img src="https://eep.io/mc-cdn-images/template_images/branding_logo_text_dark_dtp.svg"></a></p>
                      </div>
                  </div>
              </div>
          </form>
          </div>
          <script type='text/javascript' src='//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'></script><script type='text/javascript'>(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[0]='EMAIL';ftypes[0]='email';}(jQuery));var $mcj = jQuery.noConflict(true);</script>
          <!--End mc_embed_signup-->
        

        
        

        
      </header>
      <section>

      <h1 id="mathematics-of-diamond-pricing">Mathematics of Diamond Pricing</h1>

<p>A good while ago, when I was starting to look for an engagement ring, I googled, like any other reasonable human being, how to evaluate and therefore price diamonds.
As you might imagine, in a decision that it’s made only once in a lifetime (hopefully), that it’s very emotionally charged, and that involve a single transaction of several thousands of dollars, being in the top results of a Google search is a very valuable thing. There is soooooo much marketing surrounding this topic, and accordingly, lots of companies will try to sell you these things. Now I want you to put your big diamond company shoes, and ask yourself this question: Would I want my consumers to be informed while selecting my diamonds?</p>

<p>Really ponder that question. I’ll let that on the side for a moment.</p>

<p>Now let me take you to another part of the world, the supplier part… Deep in a mine somewhere in #Africa, India, ….
Mother earth is the real supplier here. The conditions for a diamond formation are very strict: ## add conditions
That’s right, diamonds are just rocks that somebody finds in the ground. What are the chances that you are going to find 2 rocks, that can be processed into 2 diamonds with exactly D Color, VS1 Clarity, and Ideal Cut, so that one has 1 Carat, and the other 1.2 Carat to give you a perfect comparison?</p>

<p>This means that if you go to a jeweler, and ask for a diamond, he/she might offer you one stone like this:</p>
<table class="image" align="center">
    <caption align="bottom"> Color E, Cut Ideal, Clarity VVS1, Carat 0.9</caption>
<tr><td><img src="/assets/img/diamondmatching/E_ideal_VVS1_6387.png" alt="expensive_diamond" width="300" /></td></tr>
</table>

<p>for $6387, and another:</p>
<table class="image" align="center">
<caption align="bottom"> Color D, Cut Ideal, Clarity VS1, Carat 0.9</caption>
    <tr><td><img src="/assets/img/diamondmatching/D_ideal_VS1_5248.png" alt="cheap_diamond" width="300" /></td></tr>
</table>
<p>for $5248. So which one is the good deal? The more expensive one has supposedly a better Clarity, but the cheaper one has better Color. How much of this is markup because of the neighborhood?
The worst part is that these small differences in clarity, color, and cut are imperceptible to the human eye! Only experts can tell the difference using 10X lenses. I mean, just look at these pictures:</p>

<table class="image" align="center">
    <tr><td><img src="/assets/img/diamondmatching/expensive_cheap.png" alt="expensive_cheap" width="600" /></td></tr>
</table>

<p>Ahhhhhrg!! So frustrating! (These diamonds have the same size, and the difference in price is $1677)
They can be charging me whatever they want if I’m not able to know the right price!
Eh? See what I did here?
Lets go back to the question: Why would I want my consumers to be informed when selecting my diamonds? I don’t! I want them as uninformed as possible, and moreover, I want them ##deeply## emotionally invested. Perhaps if I can tie the size of the diamond to the value of the relationship…. Oh man. Marketing level &gt; 9000.</p>

<p>So I was left in the shadows. But I love math. Math is like a torch of bright light diffracting through the mysteries of diamond pricing, and exposing wonderful colors of understanding.</p>

<p>I wrote a script and started downloading data from thousands of diamonds overnight, 19,555 diamonds to be exact. I could do some modeling with this.</p>

<p>Lets fix a couple of characteristics, and take a look at the price vs carat curves for different color diamonds:</p>
<table class="image" align="center">
    <caption align="bottom">Price vs Carat curve for different color diamonds of Cut Ideal and Clarity VS1. Other cuts and clarities show similar curves.</caption>
    <tr><td><img src="/assets/img/diamondmatching/color_curves_Ideal_VS1.png" alt="color curves" /></td></tr>
</table>

<p>Look at that nice curve. Might look like a parabola, but it can be perhaps another polynomial of higher degree, and even an exponential function</p>

<p>Well, let’s apply a logarithm to the carat axis and see what happens:</p>
<table class="image" align="center">
<tr><td>&lt;img src="/assets/img/diamondmatching/carat_vs_logcarat.png" alt="carat_vs_logcarat"style="width:650px;height:300px;"/&gt;</td></tr>
</table>
<p>Wait what? it is still curvy??? It also looks exponential AGAIN??? Lets try to apply another logarithm this time to the y axis, and see what we get:</p>
<table class="image" align="center">
<tr><td><img src="/assets/img/diamondmatching/logcarat_vs_logprice.png" alt="logcarat_vs_logprice" style="width:650px;height:300px;" /></td></tr>
</table>
<p>Ah! Finally a decently linear scatter, which means we can do a reasonable linear interpolation on the data, i.e. obtaining parameters m, n so that we can estimate the price given a carat value (for fix Cut=’Ideal’ and Clarity=’VS1’)</p>

\[log(y) = m log(x) + n\]

<p>This means that the actual pricing model for diamonds is….</p>

\[y = e^{(m log(x) + n)} = e^{(log(x^m))}e^n = x^m e^n\]

<p>In the case of this particular data set with Cut Ideal, Color D, and Clarity VS1, we obtained from linear regression m = 2.016 and n = 8.89
(Upcoming plot of the data with the model line on it)</p>

<p>Now you can estimate the price of a diamond with Ideal cut and VS1 clarity if you are given the Carat of said diamond. Indeed, the estimated price from our model says:
price = carat^2.016 + 8.89,
so you no longer have to guess whether a given diamond has a good price or not. All you have to do is to compare the predicted price from the model derived previously with whatever the jeweler is offering; If the price offered is higher, then you know it’s not a good deal, and it’s better keep looking, but if the diamond offered is cheaper than the predicted price, then you know you have an undervalued diamond (a good deal, yay!).</p>

<p>This is how diamondscholar works. I constantly track the prices of thousands of diamonds, run this mathematical model for each combination of color, cut and clarity, and finally push this information so that you can make the best informed decision possible.
 Good luck on your search!</p>

<p>If you are technically inclined and want to check out the data and the model, please visit my repo on <a href="https://github.com/aramisentreri/diamond-matching">github</a>.</p>


      </section>

      <footer>
        
        <p>This project is maintained by <a href="https://github.com/aramisentreri">aramisentreri</a></p>
        
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a> with little tweaks by Gustavo</small></p>
      </footer>
    </div>
    <script src="/assets/js/scale.fix.js"></script>
    
  </body>
</html>
